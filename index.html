<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Breast Cancer Predictor</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap");

      body {
        font-family: "Roboto", sans-serif;
        background-color: #0d0d0d; /* dark black background */
        margin: 0;
        padding: 0;
        color: #fff;
      }

      .container {
        max-width: 500px; /* narrower container for vertical layout */
        margin: 40px auto;
        background-color: #1a1a1a; /* dark card */
        padding: 30px 35px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
      }

      h1 {
        text-align: center;
        color: #a64ca6; /* purple header */
        text-shadow: 2px 2px 5px #4b0082;
        margin-bottom: 25px;
      }

      form {
        display: grid;
        grid-template-columns: 1fr; /* single column vertical */
        gap: 5px; /* very small gap between inputs */
      }

      label {
        font-weight: bold;
        margin-bottom: 3px;
        display: block;
        color: #ddd;
      }

      input[type="number"] {
        padding: 8px;
        border-radius: 8px;
        border: 2px solid #6a0dad;
        background-color: #111;
        color: #fff;
        width: 100%;
        box-shadow: 0 4px 12px rgba(106, 13, 173, 0.5);
        transition: all 0.3s ease;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #9b30ff;
        box-shadow: 0 0 10px #9b30ff, 0 4px 15px rgba(106, 13, 173, 0.6);
      }

      .buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        gap: 10px;
      }

      button {
        padding: 12px 20px;
        border: none;
        border-radius: 12px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        color: #fff;
        background: linear-gradient(45deg, #9b30ff, #a64ca6);
        box-shadow: 0 5px 20px rgba(155, 48, 255, 0.6);
        transition: all 0.3s ease;
        flex: 1;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(155, 48, 255, 0.8);
      }

      .result {
        margin-top: 25px;
        text-align: center;
        padding: 20px;
        font-size: 20px;
        border-radius: 15px;
        font-weight: bold;
        display: none;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
      }

      .benign {
        background-color: #1e4620;
        color: #7fff7f;
        text-shadow: 1px 1px 5px #00ff00;
      }

      .malignant {
        background-color: #4d0000;
        color: #ff6b6b;
        text-shadow: 1px 1px 5px #ff0000;
      }

      /* Responsive for mobile */
      @media (max-width: 600px) {
        .container {
          padding: 25px 20px;
        }
        .buttons {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Breast Cancer Predictor</h1>
      <form id="predictForm">
        <!-- 30 Inputs -->
        <script>
          const featureNames = [
            "Radius_mean",
            "Texture_mean",
            "Perimeter_mean",
            "Area_mean",
            "Smoothness_mean",
            "Compactness_mean",
            "Concavity_mean",
            "Concave_points_mean",
            "Symmetry_mean",
            "Fractal_dimension_mean",
            "Radius_se",
            "Texture_se",
            "Perimeter_se",
            "Area_se",
            "Smoothness_se",
            "Compactness_se",
            "Concavity_se",
            "Concave_points_se",
            "Symmetry_se",
            "Fractal_dimension_se",
            "Radius_worst",
            "Texture_worst",
            "Perimeter_worst",
            "Area_worst",
            "Smoothness_worst",
            "Compactness_worst",
            "Concavity_worst",
            "Concave_points_worst",
            "Symmetry_worst",
            "Fractal_dimension_worst",
          ];

          featureNames.forEach((name, index) => {
            document.write(`
                        <div>
                            <label for="feature${index}">${name.replace(
              /_/g,
              " "
            )}</label>
                            <input type="number" id="feature${index}" required step="any" placeholder="Enter ${name.replace(
              /_/g,
              " "
            )}">
                        </div>
                    `);
          });
        </script>

        <div class="buttons">
          <button type="button" onclick="predict('logistic')">
            Predict Logistic
          </button>
          <button type="button" onclick="predict('tree')">Predict Tree</button>
        </div>
      </form>

      <div id="result" class="result"></div>
    </div>

    <script>
      const BACKEND_URL = "https://backend-yrmg.onrender.com";
    

      async function predict(modelType) {
        const features = [];
        for (let i = 0; i < 30; i++) {
          const val = parseFloat(document.getElementById(`feature${i}`).value);
          if (isNaN(val)) {
            alert("Please fill all fields with numbers");
            return;
          }
          features.push(val);
        }

        const endpoint =
          modelType === "logistic" ? "/predict/logistic" : "/predict/tree";

        try {
          const response = await fetch(`${BACKEND_URL}${endpoint}`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ features: features }),
          });

          const data = await response.json();
          const resultDiv = document.getElementById("result");
          resultDiv.style.display = "block";

          if (data.prediction === "Benign") {
            resultDiv.className = "result benign";
            resultDiv.innerText = "Prediction: Benign ✅";
          } else {
            resultDiv.className = "result malignant";
            resultDiv.innerText = "Prediction: Malignant ❌";
          }
        } catch (error) {
          alert(
            "Error connecting to backend. Make sure the backend is deployed and URL is correct."
          );
          console.error(error);
        }
      }
    </script>
  </body>
</html>

   
